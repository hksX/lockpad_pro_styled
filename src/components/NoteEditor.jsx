import React,{useState,useEffect} from 'react'; import ReactQuill from 'react-quill'; export default function NoteEditor({onSave,editing}){ const [title,setTitle]=useState(''); const [content,setContent]=useState(''); const [tags,setTags]=useState(''); useEffect(()=>{ if(editing){ setTitle(editing.title||''); setContent(editing.plaintext||''); setTags((editing.tags||[]).join(', ')); } },[editing]); const save=()=>{ const tagsArr=tags.split(',').map(s=>s.trim()).filter(Boolean); onSave(title||'Untitled', content, tagsArr); setTitle(''); setContent(''); setTags(''); }; const wc = content ? content.replace(/<[^>]*>/g,'').trim().split(/\s+/).filter(Boolean).length : 0; return (<div className='card note-editor'><h3>{editing?'Edit Note':'New Note'}</h3><input className='input' placeholder='Title' value={title} onChange={e=>setTitle(e.target.value)} /><input className='input' placeholder='Tags (comma separated)' value={tags} onChange={e=>setTags(e.target.value)} /><ReactQuill theme='snow' value={content} onChange={setContent} /><div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:8}}><div className='small'>Words: {wc}</div><button className='btn' onClick={save}>Save</button></div></div>); }
